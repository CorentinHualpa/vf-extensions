/* Variables CSS principales */
.multiselect-container {
  --ms-accent: #4CAF50;
  --ms-selected-bg: #3778F4;
  --ms-hover-bg: rgba(55,120,244,0.3);
  --ms-bg-opacity: 0.8;
  --ms-gap: 8px;
  --ms-radius: 6px;
  --ms-shadow: 0 2px 6px rgba(0,0,0,.15);
  --ms-heading-fs: 16px;
  --ms-base-fs: 15px;
  --ms-small-fs: 14px;
}

/* Reset et styles de base */
.multiselect-container, .multiselect-container * { 
  box-sizing:border-box!important; 
}

.multiselect-container { 
  display:flex!important; 
  flex-direction:column!important; 
  width:100%!important;
  font-family:'Inter','Segoe UI',system-ui,-apple-system,sans-serif!important;
  font-size:var(--ms-base-fs)!important; 
  color:#fff!important;
}

/* Layout des sections */
.multiselect-container .sections-grid { 
  display:grid!important; 
  grid-template-columns:repeat(2,1fr)!important;
  gap:var(--ms-gap)!important;
}

.multiselect-container.one-section .sections-grid { 
  grid-template-columns:1fr!important; 
}

/* Sections avec glassmorphism */
.multiselect-container .section-container { 
  background: linear-gradient(135deg, rgba(0,0,0,0.8), rgba(0,0,0,0.5))!important;
  backdrop-filter: blur(10px)!important;
  -webkit-backdrop-filter: blur(10px)!important;
  border: 1px solid rgba(255,255,255,0.15)!important;
  border-radius: 12px!important;
  overflow:hidden!important; 
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2), 
              inset 0 1px 0 rgba(255, 255, 255, 0.1)!important;
  transition: all .3s ease!important;
  margin-bottom: 16px!important;
}

.multiselect-container .section-container:hover { 
  transform: translateY(-4px)!important; 
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3)!important;
}

/* Titres de section améliorés */
.multiselect-container .section-title { 
  padding: 16px 20px!important; 
  font-weight: 700!important;
  font-size: 18px!important;
  letter-spacing: -0.3px!important;
  background: linear-gradient(to right, rgba(255,255,255,0.1), transparent)!important;
  border-bottom: 1px solid rgba(255,255,255,0.1)!important;
  margin-bottom: 8px!important;
  position: relative!important;
  overflow: hidden!important;
}

.multiselect-container .section-title::before {
  content: ''!important;
  position: absolute!important;
  left: 0!important;
  bottom: 0!important;
  width: 60px!important;
  height: 2px!important;
  background: var(--ms-accent)!important;
  transition: width 0.3s ease!important;
}

.multiselect-container .section-container:hover .section-title::before {
  width: 100%!important;
}

/* Liste d'options */
.multiselect-container .options-list { 
  display:grid!important; 
  grid-template-columns:1fr!important;
  gap:calc(var(--ms-gap)/2)!important; 
  padding:calc(var(--ms-gap)/2)!important;
}

.multiselect-container .options-list.grid-2cols { 
  grid-template-columns:1fr 1fr!important; 
}

/* Blocs non-sélectionnables */
.multiselect-container .non-selectable-block { 
  background:rgba(0,0,0,.25)!important;
  border:1px solid rgba(255,255,255,.2)!important;
  border-radius:calc(var(--ms-radius)-2px)!important;
  padding:4px 8px!important; 
  font-size:var(--ms-small-fs)!important;
}

/* Options conteneurs */
.multiselect-container .option-container { 
  display:flex!important; 
  align-items:flex-start!important;
  gap:calc(var(--ms-gap)/2)!important;
}

.multiselect-container .option-container label { 
  display:flex!important; 
  align-items:center!important;
  gap:calc(var(--ms-gap)/2)!important; 
  width:100%!important;
  padding:calc(var(--ms-gap)/2)!important;
  background:rgba(0,0,0,var(--ms-bg-opacity))!important;
  border-radius:var(--ms-radius)!important; 
  cursor:pointer!important;
  transition:background-color .2s, box-shadow .2s!important;
}

.multiselect-container .option-container label:hover { 
  background:var(--ms-hover-bg)!important;
  box-shadow:var(--ms-shadow)!important;
}

.multiselect-container .option-container.greyed-out-option label { 
  opacity:.5!important;
  cursor:not-allowed!important;
}

.multiselect-container .option-container label.selected { 
  background:var(--ms-selected-bg)!important; 
}

/* Checkbox/Radio styles */
.multiselect-container .option-container input[type="checkbox"],
.multiselect-container .option-container input[type="radio"] {
  all:unset!important; 
  width:16px!important; 
  height:16px!important;
  min-width:16px!important; 
  min-height:16px!important;
  display:inline-flex!important; 
  align-items:center!important;
  justify-content:center!important; 
  border:2px solid var(--ms-accent)!important;
  border-radius:50%!important; 
  background:#fff!important;
  transition:transform .1s ease!important;
}

.multiselect-container .option-container input:hover { 
  transform:scale(1.1)!important; 
}

.multiselect-container .option-container input:checked::after {
  content:''!important; 
  width:8px!important; 
  height:8px!important;
  border-radius:50%!important; 
  background:var(--ms-accent)!important;
}

/* Champs de saisie utilisateur */
.multiselect-container .user-input-container { 
  grid-column:1/-1!important; 
  margin-top:var(--ms-gap)!important; 
}

.multiselect-container .user-input-label { 
  font-size:var(--ms-small-fs)!important; 
  margin-bottom:16px!important; 
}

.multiselect-container .user-input-field { 
  width:100%!important; 
  padding:6px!important;
  border-radius:var(--ms-radius)!important; 
  border:1px solid rgba(255,255,255,.3)!important;
  font-size:var(--ms-small-fs)!important; 
  transition:box-shadow .2s!important;
}

.multiselect-container .user-input-field:focus { 
  box-shadow:0 0 0 2px rgba(255,255,255,.4)!important;
  border-color:var(--ms-accent)!important;
}

/* Wrapper boutons et erreurs */
.multiselect-container .button-wrapper { 
  display:flex; 
  flex-direction:column; 
  align-items:flex-start; 
}

.multiselect-container .minselect-error {
  color: #ff4444!important;
  font-size: var(--ms-small-fs)!important;
  margin-top:4px!important;
  visibility:hidden;
  white-space:nowrap!important;
}

/* Container des boutons */
.multiselect-container .buttons-container {
  display:flex!important; 
  justify-content:center!important;
  gap:var(--ms-gap)!important; 
  padding:var(--ms-gap)!important;
}

/* BOUTONS CORPORATE/SCI-FI - VERT PAR DÉFAUT */
.multiselect-container .submit-btn {
  position: relative!important;
  background: #4CAF50!important;
  color: #fff!important;
  padding: 10px 24px!important; 
  border-radius: 8px!important;
  font-weight: 700!important; 
  letter-spacing: 0.5px!important;
  text-transform: uppercase!important;
  font-size: 14px!important;
  cursor: pointer!important;
  border: none!important;
  overflow: hidden!important;
  transition: all 0.3s ease!important;
  box-shadow: 0 4px 12px rgba(76,175,80,0.3),
              inset 0 3px 0 rgba(255,255,255,0.2),
              inset 0 -3px 0 rgba(0,0,0,0.2)!important;
}

/* Effet hover */
.multiselect-container .submit-btn:hover {
  transform: translateY(-2px)!important;
  box-shadow: 0 6px 20px rgba(76,175,80,0.4),
              inset 0 3px 0 rgba(255,255,255,0.3),
              inset 0 -3px 0 rgba(0,0,0,0.3)!important;
}

/* Effet active (clic) */
.multiselect-container .submit-btn:active {
  transform: translateY(1px)!important;
  box-shadow: 0 2px 6px rgba(76,175,80,0.3),
              inset 0 1px 0 rgba(255,255,255,0.1),
              inset 0 -1px 0 rgba(0,0,0,0.1)!important;
}

/* Effet de scan sci-fi */
.multiselect-container .submit-btn::before {
  content: ''!important;
  position: absolute!important;
  top: -2px!important;
  left: -2px!important;
  width: calc(100% + 4px)!important;
  height: calc(100% + 4px)!important;
  background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent)!important;
  transform: translateX(-100%) rotate(45deg)!important;
  transition: transform 0.8s ease!important;
}

.multiselect-container .submit-btn:hover::before {
  transform: translateX(100%) rotate(45deg)!important;
}

/* Animation shake améliorée */
@keyframes shake-enhanced {
  0%, 100% { transform: translateX(0); }
  15%, 45%, 75% { transform: translateX(-6px); }
  30%, 60%, 90% { transform: translateX(6px); }
}

.multiselect-container .submit-btn.shake {
  animation: shake-enhanced 0.4s cubic-bezier(0.36, 0.07, 0.19, 0.97)!important;
  box-shadow: 0 0 0 4px rgba(255,68,68,0.5)!important;
}

/* Effet de glow pour les erreurs */
.multiselect-container .submit-btn.shake {
  background: #ff4433!important;
  box-shadow: 0 0 10px #ff4433,
              0 0 20px rgba(255,68,68,0.5),
              inset 0 3px 0 rgba(255,255,255,0.2),
              inset 0 -3px 0 rgba(0,0,0,0.2)!important;
}

/* Effet de pulse */
@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(76,175,80,0.7); }
  70% { box-shadow: 0 0 0 10px rgba(76,175,80,0); }
  100% { box-shadow: 0 0 0 0 rgba(76,175,80,0); }
}

.multiselect-container .submit-btn:focus {
  animation: pulse 1.5s infinite!important;
}

/* Style pour boutons avec couleurs personnalisées */
.multiselect-container .submit-btn[style*="background-color"] {
  box-shadow: 0 4px 12px rgba(var(--btn-r),var(--btn-g),var(--btn-b),0.3),
              inset 0 3px 0 rgba(255,255,255,0.2),
              inset 0 -3px 0 rgba(0,0,0,0.2)!important;
}

/* État désactivé */
.multiselect-container.disabled-container {
  opacity:.5!important; 
  pointer-events:none!important;
}
